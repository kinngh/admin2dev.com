<html lang="es-ES"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Curso Apex Starter | Admin2Dev</title>
  <meta name="HandheldFriendly" content="True">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@500&amp;family=Spartan:wght@500;600;700&amp;display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Muli:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="../assets/css/stylesheet.css">

  <link rel="shortcut icon" href="../favicon.ico" type="image/x-icon">

  <meta property="og:site_name" content="Admin2Dev">

  <meta property="og:title" content="Networking and REST API"> <!-- Content Title-->
  <meta property="og:description" content="Learn basics of networking and what are REST APIs"> <!-- Content Description -->
  <meta property="og:image" content="https://a2d-cdn.now.sh/web-image.png">
  <meta property="og:url" content="https://admin2dev.com/">


  <meta property="article:author" content="https://twitter.com/kinngh">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Networking and REST API"> <!-- Twitter Title -->
  <meta name="twitter:description" content="Learn basics of networking and what are REST APIs"> <!-- Twitter description -->
  <meta name="twitter:url" content="https://admin2dev.com">
  <meta name="twitter:label1" content="Written by">
  <meta name="twitter:data1" content="Harshdeep Singh Hura">
  <meta name="twitter:label2" content="Filed under">
  <meta name="twitter:data2" content="Apex Tutorials">
  <meta name="twitter:site" content="@kinngh">
  <meta name="twitter:creator" content="@kinngh">
  <meta name="twitter:image" content="https://a2d-cdn.now.sh/web-image.png">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-112097931-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];

  function gtag() {
    dataLayer.push(arguments);
  }
  gtag('js', new Date());

  gtag('config', 'UA-112097931-2');
</script><script async="" src="https://hm-ackee.herokuapp.com/tracker.js" data-ackee-server="https://hm-ackee.herokuapp.com" data-ackee-domain-id="b76d74a9-da14-46a7-b30a-596c57329e5b"></script>

</head>

<body id="myBody" class="global-hash-post-card-amber global-hash-post-card-apricot global-hash-post-card-aqua global-hash-post-card-coral global-hash-post-card-cream global-hash-post-card-green global-hash-post-card-purple global-hash-post-card-raspberry global-hash-post-card-sky global-hash-dark-version is-loaded">
  <div class="global-wrap">
    <div class="global-content">
      <header class="header-section">
        <div class="header-wrap">
          <div class="header-logo">
            <a href="../index.html" class="is-image">
              <img src="../images/logo.png" alt="Admin2Dev">
            </a>
          </div>
          <div class="header-nav">
            <input id="toggle" class="header-checkbox" type="checkbox">
            <label class="header-toggle" for="toggle">
              <span>
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
              </span>
            </label>
            <nav>
              <ul>
                <li><a href="../index.html">Inicio</a></li>
                <li><a href="../learn/index.html">Aprender</a></li>
<li><a href="../tools/index.html">Herramientas</a></li>
                 <li><a href="../sponsor/index.html">Patrocinador</a></li>
                <li class="header-nav-dropdown">
                  <svg role="img" viewBox="0 0 20 4" xmlns="http://www.w3.org/2000/svg">
                    <path d="M2 4A2 2 0 102.001.001 2 2 0 002 4zm8 0a2 2 0 10.001-3.999A2 2 0 0010 4zm8 0a2 2 0 10.001-3.999A2 2 0 0018 4z"></path></svg>
                  <ul>
                    <li><a href="../about/index.html">Acerca de</a></li><li><a href="../terms.html">Condiciones del servicio</a></li>
                    <li><a href="../privacy.html">Política de privacidad</a></li>
                  </ul>
                </li>
              </ul>
              <ul>
                <li class="signup global-button"><a href="https://discord.gg/5ndr5F8" target="_blank">Únete a la comunidad</a></li>
                <li class="signin"><a onclick="darkMode()" id="darkModeText">Modo de luz</a></li>
              </ul>
            </nav>
          </div>
        </div>
      </header>
      <main class="global-main">
        <article class="post-section">
          <div class="post-header item is-hero is-page is-first post no-image page">
            <div class="item-container global-color">
              <div class="item-content">
                <h2 class="item-title">API de redes y REST</h2>
              </div>
            </div>
          </div>
          <div class="post-content">
            <p>Entras en tu cafetería local, entras por la puerta y el cajero te saluda. Eres un habitual allí. Usted ordena su "regular" y el cajero parece saber lo que quiere decir con él. Te hacen un <em>Frappuccino Super Grande con goteles de Avellana y Crema Batida</em>. Lo llevas a tu mesa "regular" y una vez terminado, saludas al cajero y al personal y continúas con tu día.</p>
            <p>Aparte del hecho de que ahora conoces mi pedido regular de café, todo el proceso se facilitó debido a una herramienta que todos en la cafetería, incluido tú, entendieron: Comunicación. Por lo general, se da por sentado, puedes entender todo este curso y a todos a tu alrededor (o bueno, la mayoría de ellos) debido a esta ingeniosa pequeña herramienta, podría ser el idioma que hablas, el mensaje escrito que pasas o simplemente un asentimiento con la cabeza.</p>
            <p>Hasta ahora, hemos estado trabajando con nosotros mismos de forma aislada y es hora de que nos aventuremos al mundo exterior. Al principio dará miedo, pero a medida que pase el tiempo te pondrás bien con tu comunicación como desarrollador.</p>
            <p>La herramienta en nuestro conjunto de comunicación es entender qué es una API.</p>
            <p><strong>API </strong>o <strong>interfaz programable de aplicaciones </strong>es un middleware para que dos o más aplicaciones en la web hablen entre sí. Esto es lo mismo que usar un idioma para hablar con otra persona. Las API toman una entrada, la procesan y producen el resultado, lo mismo que pedirle al cajero el pedido <em>regular </em>(la entrada), al cajero que entiende claramente de lo que está hablando y procesa su salida final, o el café. Hay muchas cosas que se necesitan para hacer una buena API, como escribir una gran documentación que incluya instrucciones claras sobre el tipo de entradas que toma la API, lo que procesa y lo que no, y cómo se vería la estructura del resultado final. Hay muchas cosas que se interrumpen en hacer que una API sea buena, pero por ahora centrémonos en entender y usar las API.</p>
            <p>Al igual que los lenguajes de la vida real con muchas variaciones y ramas, las API vienen en dos <em>idiomas</em>:</p>
            <ul>
              <li>REST</li>
              <li>JABÓN</li>
            </ul>
            <p>En el capítulo de hoy hablaremos de la API REST.</p>
            <p><strong>REST </strong>o Transferencia de Estado Representacional es el estilo de API más común utilizado en Internet debido a su estructura y facilidad de uso. Hay muchos conceptos sobre lo que realmente es la API REST, pero por ahora hablemos en inglés sencillo antes de sumergirnos en términos técnicos.</p>
            <p>Veamos una API en acción. Para esto necesitamos dos cosas:</p>
            <ul>
              <li>Algo para hacer las llamadas a la API REST y mostrar su salida.</li>
              <li>Un servidor que acepta y devuelve llamadas REST.</li>
            </ul>
            <p>Para ejecutar nuestras consultas de API REST, usaremos <a href="https://postman.com" target="_blank">Postman</a>. Diríjase a su sitio web, regístrese para obtener una cuenta y descargue el programa para su plataforma.</p>
            <p>Para ver la API en acción, usaremos <a href="https://openweathermap.org" target="_blank">Open Weather Map </a>para obtener el clima actual de nuestra ubicación o de cualquier ciudad. Diríjase a su sitio web y regístrese para obtener una cuenta.</p>
            <p>Now in Open Weather Map, head over to the <a href="https://openweathermap.org/api" target="_blank">API Section</a> and you will be greeted with a page that shows you "Current and weather forecast weather data collection". We
              will be using the <code>Current Weather Data</code> collection. Open the <a href="https://openweathermap.org/current" target="
  _blank">API Doc</a> and try not to panic.</p>
            <p>Primero necesitamos la <strong>URL de </strong>la <strong>API</strong>. En la sección <em>Por nombre </em>de <em>ciudad</em>, se le recibirá con 3 URL:</p>
            <ul>
              <li>
                <p><code>api.openweathermap.org/data/2.5/weather?q={city name}&amp;appid={your api key}</code></p>
              </li>
              <li>
                <p><code>api.openweathermap.org/data/2.5/weather?q={city name},{state code}&amp;appid={your api key}</code></p>
              </li>
              <li>
                <p><code>api.openweathermap.org/data/2.5/weather?q={city name},{state code},{country code}&amp;appid={your api key}</code></p>
              </li>
            </ul>
            <p>Para una API REST, por lo general primero nos hacemos con la URL. Usaremos la primera URL. Copiemos eso y abramos Postman.</p>
            <p>Después de iniciar sesión en Postman, será recibido con la pantalla de bienvenida. (Puede hacer clic en configuración &gt; temas y cambiar al modo oscuro):</p>
            <figure class="kg-card kg-image-card kg-card-hascaption"><img src="../images/apex/21/1.png" width="100%" alt="">
            </figure>
            <p>Haga clic en Nuevo &gt; Solicitar y complete el nombre y la descripción de la solicitud.</p>
            <figure class="kg-card kg-image-card kg-card-hascaption"><img src="../images/apex/21/2.png" width="100%" alt="">
            </figure>
            <p>Esto es para su uso e identificación para que los valores aquí no interfieran con el resultado final. Lo estoy nombrando <em>Weather Data </em>y creando una nueva colección llamada <em>Open Stuff</em>. Ahora será recibido con esta pantalla:</p>
            <figure class="kg-card kg-image-card kg-card-hascaption"><img src="../images/apex/21/3.png" width="100%" alt="">
            </figure>
            <p>En la sección <em>URL de </em>la <em>solicitud</em>, primero nos aseguramos de que la solicitud esté configurada en GET (hablamos de esto más adelante en este capítulo) y copiamos la primera URL de Open Weather Data</p>
            <pre><code>api.openweathermap.org/data/2.5/weather?q={city name}&amp;appid={your api key}
</code></pre>
            <figure class="kg-card kg-image-card kg-card-hascaption"><img src="../images/apex/21/4.png" width="100%" alt="">
            </figure>

            <p>Notarás que Postman actualiza automáticamente los parámetros. La URL de una API REST toma parámetros como cadenas de entrada. Si este fuera un método ápice, se vería algo como esto:</p>
            <pre><code>public static String weather(String q, String appId){
	String weather = getWeather(q);
	return weather;
}
</code></pre>
            <p>For the <code>q</code> or city name parameter, write the city you want to get weather for. I'll go with Birmingham (UK)
            </p>
            <figure class="kg-card kg-image-card kg-card-hascaption"><img src="../images/apex/21/5.png" width="100%" alt="">
            </figure>
            <p>Ahora necesitamos obtener nuestra clave de API. Este es el equivalente a una contraseña y debe mantenerse en secreto porque usando esta clave se calculan sus límites. Digamos que si su clave de API se filtrara, no solo cualquiera puede acceder a los datos detrás de la API, todas las solicitudes realizadas ahora se cuentan para sus límites, incluso si alguien más lo hizo. Así que mantengamoslo en secreto. Para obtener su clave de API, inicie sesión en Open Weather Map y diríjase a sus <a href="https://home.openweathermap.org/api_keys" target="_blank">claves de API </a>en su <a href="https://home.openweathermap.org/api_keys" target="_blank">panel</a>. Dale un nombre a tu clave de API y haz clic en generar.</p>
            <figure class="kg-card kg-image-card kg-card-hascaption"><img src="../images/apex/21/6.png" width="100%" alt="">
            </figure>
            <p>Copie su clave de API (restablezco la mía para que no exista, por favor no use esta) y actualícela en Postman. Ahora tenemos nuestra ciudad y clave de API lista, ¡hagamos clic en enviar! Si obtiene el error "Clave de API no válida", espere 5 minutos, ya que toma un tiempo para que las nuevas claves de API funcionen.</p>
            <figure class="kg-card kg-image-card kg-card-hascaption"><img src="../images/apex/21/7.png" width="100%" alt="">
            </figure>
            <p>Esta respuesta está en un formato JSON.<strong> JSON </strong>o Java Script Object Notation, un lenguaje que almacena datos en un formato organizado y clave-valor (al igual que Maps in Apex). Desglosemos este JSON y aprendamos lo que realmente es:</p>
            <pre><code>{
    "coord": {
        "lon": -86.8,
        "lat": 33.52
    },
    "weather": [
        {
            "id": 800,
            "main": "Clear",
            "description": "clear sky",
            "icon": "01d"
        }
    ],
    "base": "stations",
    "main": {
        "temp": 301.55,
        "feels_like": 298.78,
        "temp_min": 299.26,
        "temp_max": 302.59,
        "pressure": 1020,
        "humidity": 35
    },
    "visibility": 16093,
    "wind": {
        "speed": 4.6,
        "deg": 20
    },
    "clouds": {
        "all": 1
    },
    "dt": 1590966265,
    "sys": {
        "type": 1,
        "id": 3436,
        "country": "US",
        "sunrise": 1590921512,
        "sunset": 1590972705
    },
    "timezone": -18000,
    "id": 4049979,
    "name": "Birmingham",
    "cod": 200
}
</code></pre>
            <p>Abra la <a href="https://openweathermap.org/current#parameter" target="_blank">documentación </a>y diríjase a la sección "Parámetro" (si hace clic en el enlace, lo lleva directamente allí) donde tiene una API de ejemplo y <em>Parámetros </em>que describen lo que significa cada campo.</p>
            <p>Así es como se estructura un archivo JSON:</p>
            <ul>
              <li>Valor clave se empareja igual que un mapa en Apex, separado por <code>,</code>.</li>
            </ul>
            <pre><code>    "timezone": -18000,
    "id": 4049979,
    "name": "Birmingham",
    "cod": 200
</code></pre>
            <ul>
              <li>Los objetos se almacenan entre<code>{ }</code></li>
            </ul>
            <pre><code>"main": {
        "temp": 301.55,
        "feels_like": 298.78,
        "temp_min": 299.26,
        "temp_max": 302.59,
        "pressure": 1020,
        "humidity": 35
    }
</code></pre>
            <ul>
              <li>Los arrays se almacenan entre<code>[ ]</code></li>
            </ul>
            <pre><code> "weather": [
        {
            "id": 800,
            "main": "Clear",
            "description": "clear sky",
            "icon": "01d"
        }
    ]
</code></pre>
            <p>Escribamos un archivo JSON para un contacto con 3 oportunidades y asociado a Account GenePoint:</p>
            <pre><code>{
	"Name": {
		"firstName": "John",
		"lastName": "Smith"
	},
	"Opportinity": [{
			"Name": "Opportunity Name",
			"Close Date": "03022020",
			"Amount": 2200
		},
		{
			"Name": "Opportunity 2 Name",
			"Close Date": "03122020",
			"Amount": 3000
		},
		{
			"Name": "Opportunity 3 Name",
			"Close Date": "12062020",
			"Amount": 800
		}
	],
	"Account": "GenePoint"
}

</code></pre>
            <p>Vamos a desglosar esto:</p>
            <ul>
              <li>First we have the <code>Name</code> object with 2 key value pairs <code>firstName</code> and <code>lastName</code>.</li>
              <li>We now have an <code>Opportunity Array</code> that holds values for 3 key value pairs <code>Name</code>, <code>Close Date</code> and <code>Amount</code></li>
              <li>We have a key value pair <code>Account</code> that holds the value <code>GenePoint</code></li>
            </ul>
            <p>Piénsalo de esta manera:</p>
            <ul>
              <li>Los datos se almacenan en pares de valores clave</li>
              <li>Si hay más de 1 par de valores clave para algo, lo definimos como un objeto y lo almacenamos entre<code>{ }</code></li>
              <li>Si hay grupos de información sobre un solo objeto, pero define diferentes instancias, lo almacenamos en un array entre<code>[ ]</code></li>
            </ul>
            <p>Volviendo a nuestra respuesta de Datos Climáticos Abiertos, ahora podemos entender el JSON, pero en el caso de <code>Birmingham</code>, observe cómo regresó el JSON:</p>
            <pre><code>    "sys": {
        "type": 1,
        "id": 3436,
        "country": "US",
        "sunrise": 1590921512,
        "sunset": 1590972705
    },
</code></pre>
            <p><code>"country": "US"</code>significa que existe un Birmingham en EE. UU., ¡tientras buscábamos Birmingham en el Reino Unido! La gente de Open Weather Data sabía que esto sería un problema, por eso tienen URL adicionales para acceder a la misma información:</p>
            <ul>
              <li><code>api.openweathermap.org/data/2.5/weather?q={city name},{state code}&amp;appid={your api key}</code></li>
            </ul>
            <p>Esto nos permite definir el nombre del estado y la ciudad, reduciendo la posibilidad de errores. Este es un ejemplo de <em>buen diseño de API</em>, equivalente a nuestro pedido de café "Tendré los habituales".</p>
            <p>Just like Apex has DML statements, REST has it's own version of DML Statements. Remember when we made a <code>GET</code> request in Postman to get information on the URL? That was the equivalent of running a <code>[SELECT all_info FROM
                Current Weather Data WHERE City = 'Birmingham']</code>. Here are some common DML statements used in REST API calls:</p>
            <table>
              <thead>
                <tr>
                  <th>Llamada REST</th>
                  <th>Ápice / Descripción</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>OBTENER</td>
                  <td><code>[SELECT]</code></td>
                </tr>
                <tr>
                  <td>PUBLICACIÓN</td>
                  <td><code>insert</code></td>
                </tr>
                <tr>
                  <td>PONTE</td>
                  <td>Roughly <code>upsert</code>. A Put call can create or replace information.</td>
                </tr>
                <tr>
                  <td>PARCHE</td>
                  <td>Se utiliza para editar detalles menores. Más similar a un<code>update</code></td>
                </tr>
                <tr>
                  <td>ELIMINAR</td>
                  <td><code>delete</code></td>
                </tr>
              </tbody>
            </table>
            <h1>Resumen</h1>
            <ul>
              <li>Las API son cómo las aplicaciones a través de Internet interactúan entre sí</li>
              <li>REST y SOAP son dos "idiomas" de la API</li>
              <li>REST se utiliza más comúnmente debido a la facilidad de uso y comprensión</li>
              <li>REST tiene su propio conjunto de instrucciones DML al igual que Apex</li>
              <li>JSON es un formato para almacenar datos de una manera organizada</li>
            </ul>





            <a href="22.html" class="global-button">Día 22: Clase de API REST y creación de fragmentos</a>
          </div>
        </article>

      </main>
      <footer class="footer-section global-footer">
        <div class="footer-copyright">© <a href="http://harshdeephura.com" target="_blank">Harshdeep Singh Hura</a>.<br>Todos los derechos reservados.</div>
      </footer>
    </div>
  </div>




  <script src="../assets/js/global.js"></script>




</body></html>

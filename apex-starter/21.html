<html lang="fr-FR"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Cours de démarrage Apex | Admin2Dev</title>
  <meta name="HandheldFriendly" content="True">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@500&amp;family=Spartan:wght@500;600;700&amp;display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Muli:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="../assets/css/stylesheet.css">

  <link rel="shortcut icon" href="../favicon.ico" type="image/x-icon">

  <meta property="og:site_name" content="Admin2Dev">

  <meta property="og:title" content="Networking and REST API"> <!-- Content Title-->
  <meta property="og:description" content="Learn basics of networking and what are REST APIs"> <!-- Content Description -->
  <meta property="og:image" content="https://a2d-cdn.now.sh/web-image.png">
  <meta property="og:url" content="https://admin2dev.com/">


  <meta property="article:author" content="https://twitter.com/kinngh">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Networking and REST API"> <!-- Twitter Title -->
  <meta name="twitter:description" content="Learn basics of networking and what are REST APIs"> <!-- Twitter description -->
  <meta name="twitter:url" content="https://admin2dev.com">
  <meta name="twitter:label1" content="Written by">
  <meta name="twitter:data1" content="Harshdeep Singh Hura">
  <meta name="twitter:label2" content="Filed under">
  <meta name="twitter:data2" content="Apex Tutorials">
  <meta name="twitter:site" content="@kinngh">
  <meta name="twitter:creator" content="@kinngh">
  <meta name="twitter:image" content="https://a2d-cdn.now.sh/web-image.png">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-112097931-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];

  function gtag() {
    dataLayer.push(arguments);
  }
  gtag('js', new Date());

  gtag('config', 'UA-112097931-2');
</script><script async src="https://hm-ackee.herokuapp.com/tracker.js" data-ackee-server="https://hm-ackee.herokuapp.com" data-ackee-domain-id="e6e2d901-0aed-483b-bbdf-074952248f20"></script>

</head>

<body id="myBody" class="global-hash-post-card-amber global-hash-post-card-apricot global-hash-post-card-aqua global-hash-post-card-coral global-hash-post-card-cream global-hash-post-card-green global-hash-post-card-purple global-hash-post-card-raspberry global-hash-post-card-sky is-loaded">
  <div class="global-wrap">
    <div class="global-content">
      <header class="header-section">
        <div class="header-wrap">
          <div class="header-logo">
            <a href="../index.html" class="is-image">
              <img src="../images/logo.png" alt="Admin2Dev">
            </a>
          </div>
          <div class="header-nav">
            <input id="toggle" class="header-checkbox" type="checkbox">
            <label class="header-toggle" for="toggle">
              <span>
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
              </span>
            </label>
            <nav>
              <ul>
                <li><a href="../index.html">Accueil</a></li>
                <li><a href="../learn/index.html">Apprendre</a></li>
<li><a href="../tools/index.html">Outils</a></li>
                 <li><a href="../sponsor/index.html">Commanditaire</a></li>
                <li class="header-nav-dropdown">
                  <svg role="img" viewBox="0 0 20 4" xmlns="http://www.w3.org/2000/svg">
                    <path d="M2 4A2 2 0 102.001.001 2 2 0 002 4zm8 0a2 2 0 10.001-3.999A2 2 0 0010 4zm8 0a2 2 0 10.001-3.999A2 2 0 0018 4z"></path></svg>
                  <ul>
                    <li><a href="../about/index.html">À propos</a></li><li><a href="../terms.html">Conditions d'utilisation</a></li>
                    <li><a href="../privacy.html">Politique de confidentialité</a></li>
                  </ul>
                </li>
              </ul>
              <ul>
                <li class="signup global-button"><a href="https://discord.gg/5ndr5F8" target="_blank">Rejoignez la communauté</a></li>
                <li class="signin"><a onclick="darkMode()" id="darkModeText">Mode sombre</a></li>
              </ul>
            </nav>
          </div>
        </div>
      </header>
      <main class="global-main">
        <article class="post-section">
          <div class="post-header item is-hero is-page is-first post no-image page">
            <div class="item-container global-color">
              <div class="item-content">
                <h2 class="item-title">API Mise en réseau et REST</h2>
              </div>
            </div>
          </div>
          <div class="post-content">
            <p>Vous entrez dans votre café local, entrez dans la porte et la caissière vous accueille. Vous y êtes un habitué. Vous commandez votre "régulier" et la caissière semble savoir ce que vous entendez par là. Ils vous font un <em>Frappuccino Super Large avec des gouttes de noisettes et de la crème fouettée</em>. Vous l'emmenez à votre table "ordinaire" et une fois que vous avez terminé, vous saluez la caissière et le personnel au revoir et continuez votre journée.</p>
            <p>Outre le fait que vous connaissez maintenant ma commande de café régulière, tout le processus a été facilité grâce à un outil que tout le monde dans le café, y compris vous, comprenait : la communication. Habituellement tenu pour acquis, vous pouvez comprendre tout ce cours et tout le monde autour de vous (ou bien, la plupart d'entre eux) grâce à ce petit outil astucieux, il peut s'agir de la langue que vous parlez, du message écrit que vous transmettez ou simplement d'un signe de tête.</p>
            <p>Jusqu'à présent, nous avons travaillé avec nous-mêmes isolément et il est temps de nous aventurer dans le monde extérieur. Ce sera effrayant au début, mais avec le temps, vous obtiendrez une bonne communication en tant que développeur.</p>
            <p>L'outil de notre ensemble de communication est de comprendre ce qu'est une API.</p>
            <p><strong>API </strong>ou <strong>Application Programmable Interface </strong>est un intergiciel permettant à deux ou plusieurs applications sur le web de se parler. C'est la même chose que d'utiliser une langue pour parler à une autre personne. Les API prennent une entrée, la traitent et produisent le résultat, de la même manière que de demander à la caisse la commande <em>régulière </em>(l'entrée), à la caisse qui comprend clairement de quoi vous parlez et traite votre sortie finale, ou le café. Il y a beaucoup de choses qui entrent dans la fabrication d'une bonne API comme l'écriture d'une excellente documentation qui comprend des instructions claires sur le type d'entrées que l'API prend, ce qu'elle traite et ce qu'elle ne traite pas, et à quoi ressemblerait la structure du résultat final. Il y a beaucoup de choses qui entrent dans la bonne qualité d'une API, mais pour l'instant concentrons-nous sur la compréhension et l'utilisation des API.</p>
            <p>Tout comme les langages réels avec beaucoup de variations et de branches, les API sont disponibles en deux <em>langues </em>:</p>
            <ul>
              <li>RESTE</li>
              <li>SOAP</li>
            </ul>
            <p>Dans le chapitre d'aujourd'hui, nous parlerons de l'API REST.</p>
            <p><strong>REST </strong>ou <strong>REpresentational</strong> State Transfer est le style d'API le plus couramment utilisé sur Internet en raison de sa structure et de sa facilité d'utilisation. Il y a beaucoup de concepts sur ce qu'est vraiment l'API REST, mais pour l'instant, parlons en anglais clair avant de plonger dans les termes techniques.</p>
            <p>Voyons une API en action. Pour cela, nous avons besoin de deux choses :</p>
            <ul>
              <li>Quelque chose pour faire les appels de l'API REST et afficher leur sortie.</li>
              <li>Un serveur qui accepte et renvoie les appels REST.</li>
            </ul>
            <p>Pour exécuter nos requêtes API REST, nous utiliserons <a href="https://postman.com" target="_blank">Postman</a>. Rendez-vous sur leur site Web, créez un compte et téléchargez le programme pour votre plate-forme.</p>
            <p>Pour voir l'API en action, nous utiliserons <a href="https://openweathermap.org" target="_blank">Open Weather Map </a>pour obtenir la météo actuelle de notre emplacement ou de n'importe quelle ville. Rendez-vous sur leur site Web et créez un compte.</p>
            <p>Now in Open Weather Map, head over to the <a href="https://openweathermap.org/api" target="_blank">API Section</a> and you will be greeted with a page that shows you "Current and weather forecast weather data collection". We
              will be using the <code>Current Weather Data</code> collection. Open the <a href="https://openweathermap.org/current" target="
  _blank">API Doc</a> and try not to panic.</p>
            <p>Tout d'abord, nous avons besoin de l'URL<strong> de l'API</strong>. Dans la section <em>Par nom </em>de <em>ville</em>, vous serez accueilli par 3 URL :</p>
            <ul>
              <li>
                <p><code>api.openweathermap.org/data/2.5/weather?q={city name}&amp;appid={your api key}</code></p>
              </li>
              <li>
                <p><code>api.openweathermap.org/data/2.5/weather?q={city name},{state code}&amp;appid={your api key}</code></p>
              </li>
              <li>
                <p><code>api.openweathermap.org/data/2.5/weather?q={city name},{state code},{country code}&amp;appid={your api key}</code></p>
              </li>
            </ul>
            <p>Pour une API REST, nous obtenons généralement d'abord l'URL. Nous utiliserons la première URL. Copiez-le et ouvrons Postman.</p>
            <p>Après vous être connecté à Postman, vous serez accueilli avec l'écran d'accueil. (Vous pouvez cliquer sur paramètres &gt; thèmes et passer en mode sombre) :</p>
            <figure class="kg-card kg-image-card kg-card-hascaption"><img src="../images/apex/21/1.png" width="100%" alt="">
            </figure>
            <p>Cliquez sur Nouveau &gt; Demander et remplissez le nom et la description de la demande.</p>
            <figure class="kg-card kg-image-card kg-card-hascaption"><img src="../images/apex/21/2.png" width="100%" alt="">
            </figure>
            <p>Ceci est pour votre usage et votre identification afin que les valeurs ici n'interfèrent pas avec le résultat final. Je l'appelle <em>Weather Data </em>et je crée une nouvelle collection appelée <em>Open Stuff</em>. Vous serez maintenant accueilli avec cet écran :</p>
            <figure class="kg-card kg-image-card kg-card-hascaption"><img src="../images/apex/21/3.png" width="100%" alt="">
            </figure>
            <p>Dans la section <em>URL </em>de la <em>demande</em>, nous nous assurons d'abord que la demande est définie sur GET (nous en parlons plus loin dans ce chapitre) et copions la première URL à partir d'Open Weather Data</p>
            <pre><code>api.openweathermap.org/data/2.5/weather?q={city name}&amp;appid={your api key}
</code></pre>
            <figure class="kg-card kg-image-card kg-card-hascaption"><img src="../images/apex/21/4.png" width="100%" alt="">
            </figure>

            <p>Vous remarquerez que Postman met automatiquement à jour les paramètres. L'URL d'une API REST prend en compte les paramètres comme ses chaînes d'entrée. Si c'était une méthode d'apex, cela ressemblerait à ceci :</p>
            <pre><code>public static String weather(String q, String appId){
	String weather = getWeather(q);
	return weather;
}
</code></pre>
            <p>For the <code>q</code> or city name parameter, write the city you want to get weather for. I'll go with Birmingham (UK)
            </p>
            <figure class="kg-card kg-image-card kg-card-hascaption"><img src="../images/apex/21/5.png" width="100%" alt="">
            </figure>
            <p>Maintenant, nous devons obtenir notre clé API. C'est l'équivalent d'un mot de passe et doit être gardé secret car à l'aide de cette clé, vos limites sont calculées. Disons que si votre clé d'API devait fuir, non seulement n'importe qui peut maintenant accéder aux données derrière l'API, mais toutes les demandes faites sont maintenant comptabilisées dans vos limites, même si quelqu'un d'autre l'a fait. Alors gardons-le secret. Pour obtenir votre clé d'API, connectez-vous à Open Weather Map et accédez à vos <a href="https://home.openweathermap.org/api_keys" target="_blank">clés d'API </a>dans votre <a href="https://home.openweathermap.org/api_keys" target="_blank">tableau de bord</a>. Donnez un nom à votre clé API et cliquez sur Générer.</p>
            <figure class="kg-card kg-image-card kg-card-hascaption"><img src="../images/apex/21/6.png" width="100%" alt="">
            </figure>
            <p>Copiez votre clé API (je réinitialise la mienne pour qu'elle n'existe pas, veuillez ne pas l'utiliser) et mettez-la à jour dans Postman. Maintenant que nous avons notre clé de ville et d'API prête, cliquons sur envoyer ! Si vous obtenez l'erreur "Clé API invalide", attendez 5 minutes car il faut un certain temps pour que les nouvelles clés d'API fonctionnent.</p>
            <figure class="kg-card kg-image-card kg-card-hascaption"><img src="../images/apex/21/7.png" width="100%" alt="">
            </figure>
            <p>Cette réponse est au format JSON.<strong> JSON </strong>ou Java Script Object Notation, un langage qui stocke les données dans un format de clé-valeur organisé (tout comme Maps dans Apex). Décomposons ce JSON et apprenons ce qu'il est vraiment :</p>
            <pre><code>{
    "coord": {
        "lon": -86.8,
        "lat": 33.52
    },
    "weather": [
        {
            "id": 800,
            "main": "Clear",
            "description": "clear sky",
            "icon": "01d"
        }
    ],
    "base": "stations",
    "main": {
        "temp": 301.55,
        "feels_like": 298.78,
        "temp_min": 299.26,
        "temp_max": 302.59,
        "pressure": 1020,
        "humidity": 35
    },
    "visibility": 16093,
    "wind": {
        "speed": 4.6,
        "deg": 20
    },
    "clouds": {
        "all": 1
    },
    "dt": 1590966265,
    "sys": {
        "type": 1,
        "id": 3436,
        "country": "US",
        "sunrise": 1590921512,
        "sunset": 1590972705
    },
    "timezone": -18000,
    "id": 4049979,
    "name": "Birmingham",
    "cod": 200
}
</code></pre>
            <p>Ouvrez la <a href="https://openweathermap.org/current#parameter" target="_blank">documentation </a>et dirigez-vous vers la section "Paramètre" (si vous cliquez sur le lien, il vous y mène directement) où vous avez un exemple d'API et <em>de paramètres </em>décrivant ce que chaque champ signifie.</p>
            <p>Voici comment un fichier JSON est structuré :</p>
            <ul>
              <li>Les paires de valeurs clés comme une carte dans Apex, séparées par <code>,</code>.</li>
            </ul>
            <pre><code>    "timezone": -18000,
    "id": 4049979,
    "name": "Birmingham",
    "cod": 200
</code></pre>
            <ul>
              <li>Les objets sont stockés entre<code>{ }</code></li>
            </ul>
            <pre><code>"main": {
        "temp": 301.55,
        "feels_like": 298.78,
        "temp_min": 299.26,
        "temp_max": 302.59,
        "pressure": 1020,
        "humidity": 35
    }
</code></pre>
            <ul>
              <li>Les tableaux sont stockés entre<code>[ ]</code></li>
            </ul>
            <pre><code> "weather": [
        {
            "id": 800,
            "main": "Clear",
            "description": "clear sky",
            "icon": "01d"
        }
    ]
</code></pre>
            <p>Écrivons un fichier JSON pour un contact avec 3 opportunités et associé au compte GenePoint :</p>
            <pre><code>{
	"Name": {
		"firstName": "John",
		"lastName": "Smith"
	},
	"Opportinity": [{
			"Name": "Opportunity Name",
			"Close Date": "03022020",
			"Amount": 2200
		},
		{
			"Name": "Opportunity 2 Name",
			"Close Date": "03122020",
			"Amount": 3000
		},
		{
			"Name": "Opportunity 3 Name",
			"Close Date": "12062020",
			"Amount": 800
		}
	],
	"Account": "GenePoint"
}

</code></pre>
            <p>Décomposons ceci :</p>
            <ul>
              <li>First we have the <code>Name</code> object with 2 key value pairs <code>firstName</code> and <code>lastName</code>.</li>
              <li>We now have an <code>Opportunity Array</code> that holds values for 3 key value pairs <code>Name</code>, <code>Close Date</code> and <code>Amount</code></li>
              <li>We have a key value pair <code>Account</code> that holds the value <code>GenePoint</code></li>
            </ul>
            <p>Pensez-y de cette façon :</p>
            <ul>
              <li>Les données sont stockées dans des paires de valeurs clés</li>
              <li>S'il y a plus d'une paire de valeurs clés pour quelque chose, nous le définissons comme un objet et le stockons entre<code>{ }</code></li>
              <li>S'il existe des groupes d'informations sur un seul objet, mais qu'ils définissent différentes instances, nous les stockons dans un tableau entre<code>[ ]</code></li>
            </ul>
            <p>Pour en revenir à notre réponse Open Weather Data, nous pouvons maintenant comprendre le JSON, mais dans le cas de <code>Birmingham</code>, remarquez comment le JSON est retourné :</p>
            <pre><code>    "sys": {
        "type": 1,
        "id": 3436,
        "country": "US",
        "sunrise": 1590921512,
        "sunset": 1590972705
    },
</code></pre>
            <p><code>"country": "US"</code>signifie qu'il existe un Birmingham aux États-Unis, alors que nous cherchions Birmingham au Royaume-Uni ! Les gens d'Open Weather Data savaient que ce serait un problème, c'est pourquoi ils ont des URL supplémentaires pour accéder aux mêmes informations :</p>
            <ul>
              <li><code>api.openweathermap.org/data/2.5/weather?q={city name},{state code}&amp;appid={your api key}</code></li>
            </ul>
            <p>Cela nous permet de définir le nom de l'État et de la ville, réduisant ainsi le risque d'erreurs. C'est un exemple de <em>bonne conception d'API</em>, équivalente à notre commande de café "J'aurai les habitués".</p>
            <p>Just like Apex has DML statements, REST has it's own version of DML Statements. Remember when we made a <code>GET</code> request in Postman to get information on the URL? That was the equivalent of running a <code>[SELECT all_info FROM
                Current Weather Data WHERE City = 'Birmingham']</code>. Here are some common DML statements used in REST API calls:</p>
            <table>
              <thead>
                <tr>
                  <th>Appel REST</th>
                  <th>Apex / Description</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>OBTENIR</td>
                  <td><code>[SELECT]</code></td>
                </tr>
                <tr>
                  <td>PUBLICATION</td>
                  <td><code>insert</code></td>
                </tr>
                <tr>
                  <td>PUT</td>
                  <td>Roughly <code>upsert</code>. A Put call can create or replace information.</td>
                </tr>
                <tr>
                  <td>PATCH</td>
                  <td>Utilisé pour modifier des détails mineurs. Le plus similaire à un<code>update</code></td>
                </tr>
                <tr>
                  <td>SUPPRIMER</td>
                  <td><code>delete</code></td>
                </tr>
              </tbody>
            </table>
            <h1>Résumé</h1>
            <ul>
              <li>Les API sont la façon dont les applications sur Internet interagissent les unes avec les autres</li>
              <li>REST et SOAP sont deux "langues" de l'API</li>
              <li>REST est plus couramment utilisé en raison de sa facilité d'utilisation et de compréhension</li>
              <li>REST a son propre ensemble d'instructions DML tout comme Apex</li>
              <li>JSON est un format pour stocker des données de manière organisée</li>
            </ul>





            <a href="22.html" class="global-button">Jour 22 : Classe d'API REST et création d'extraits</a>
          </div>
        </article>

      </main>
      <footer class="footer-section global-footer">
        <div class="footer-copyright">© <a href="http://harshdeephura.com" target="_blank">Harshdeep Singh Hura</a>.<br>Tous droits réservés.</div>
      </footer>
    </div>
  </div>




  <script src="../assets/js/global.js"></script>




</body></html>

<html lang="es-ES"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Curso Apex Starter | Admin2Dev</title>
  <meta name="HandheldFriendly" content="True">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@500&amp;family=Spartan:wght@500;600;700&amp;display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Muli:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="../assets/css/stylesheet.css">

  <link rel="shortcut icon" href="../favicon.ico" type="image/x-icon">

  <meta property="og:site_name" content="Admin2Dev">

  <meta property="og:title" content="SOSL and Type Casting"> <!-- Content Title-->
  <meta property="og:description" content="Learn the basics of using SOSL search and Type Casting in Apex"> <!-- Content Description -->
  <meta property="og:image" content="https://a2d-cdn.now.sh/web-image.png">
  <meta property="og:url" content="https://admin2dev.com/">


  <meta property="article:author" content="https://twitter.com/kinngh">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="SOSL and Type Casting"> <!-- Twitter Title -->
  <meta name="twitter:description" content="Learn the basics of using SOSL search and Type Casting in Apex"> <!-- Twitter description -->
  <meta name="twitter:url" content="https://admin2dev.com">
  <meta name="twitter:label1" content="Written by">
  <meta name="twitter:data1" content="Harshdeep Singh Hura">
  <meta name="twitter:label2" content="Filed under">
  <meta name="twitter:data2" content="Apex Tutorials">
  <meta name="twitter:site" content="@kinngh">
  <meta name="twitter:creator" content="@kinngh">
  <meta name="twitter:image" content="https://a2d-cdn.now.sh/web-image.png">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-112097931-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];

  function gtag() {
    dataLayer.push(arguments);
  }
  gtag('js', new Date());

  gtag('config', 'UA-112097931-2');
</script><script async="" src="https://hm-ackee.herokuapp.com/tracker.js" data-ackee-server="https://hm-ackee.herokuapp.com" data-ackee-domain-id="b76d74a9-da14-46a7-b30a-596c57329e5b"></script>

</head>

<body id="myBody" class="global-hash-post-card-amber global-hash-post-card-apricot global-hash-post-card-aqua global-hash-post-card-coral global-hash-post-card-cream global-hash-post-card-green global-hash-post-card-purple global-hash-post-card-raspberry global-hash-post-card-sky global-hash-dark-version is-loaded">
  <div class="global-wrap">
    <div class="global-content">
      <header class="header-section">
        <div class="header-wrap">
          <div class="header-logo">
            <a href="../index.html" class="is-image">
              <img src="../images/logo.png" alt="Admin2Dev">
            </a>
          </div>
          <div class="header-nav">
            <input id="toggle" class="header-checkbox" type="checkbox">
            <label class="header-toggle" for="toggle">
              <span>
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
              </span>
            </label>
            <nav>
              <ul>
                <li><a href="../index.html">Inicio</a></li>
                <li><a href="../learn/index.html">Aprender</a></li>
<li><a href="../tools/index.html">Herramientas</a></li>
                 <li><a href="../sponsor/index.html">Patrocinador</a></li>
                <li class="header-nav-dropdown">
                  <svg role="img" viewBox="0 0 20 4" xmlns="http://www.w3.org/2000/svg">
                    <path d="M2 4A2 2 0 102.001.001 2 2 0 002 4zm8 0a2 2 0 10.001-3.999A2 2 0 0010 4zm8 0a2 2 0 10.001-3.999A2 2 0 0018 4z"></path></svg>
                  <ul>
                    <li><a href="../about/index.html">Acerca de</a></li><li><a href="../terms.html">Condiciones del servicio</a></li>
                    <li><a href="../privacy.html">Política de privacidad</a></li>
                  </ul>
                </li>
              </ul>
              <ul>
                <li class="signup global-button"><a href="https://discord.gg/5ndr5F8" target="_blank">Únete a la comunidad</a></li>
                <li class="signin"><a onclick="darkMode()" id="darkModeText">Modo de luz</a></li>
              </ul>
            </nav>
          </div>
        </div>
      </header>
      <main class="global-main">
        <article class="post-section">
          <div class="post-header item is-hero is-page is-first post no-image page">
            <div class="item-container global-color">
              <div class="item-content">
                <h2 class="item-title">SOSL y fundición de tipo</h2>
              </div>
            </div>
          </div>
          <div class="post-content">

            <h2>Idioma de búsqueda de objetos de Salesforce</h2>
            <p>SOSL (Salesforce Object Search Language) realiza búsquedas de texto en registros y consulta varios tipos de objetos al mismo tiempo.</p>
            <pre><code>FIND {keyword} IN ALL FIELDS RETURNING ObjectName(returnFields);</code></pre>
            <ul>
              <li><code>FIND</code>es la palabra clave para iniciar una consulta SOSL.</li>
              <li><code>{keyword}</code>es la cuerda que estamos buscando.</li>
              <li><code>IN</code>¿en qué campos estamos buscando?</li>
              <li><code>ALL</code>palabra clave para buscar a través de todos los campos de objetos</li>
              <li><code>FIELDS</code>palabra clave que indica que estamos buscando en campos</li>
              <li><code>RETURNING</code>palabra clave para qué valores queremos devolver</li>
              <li><code>ObjectName(returnFields)</code>devuelve los campos de Object cuando hay una coincidencia</li>
            </ul>
            <p>Vamos a ejecutar un ejemplo en el <em>Editor de consultas </em>de Developer Console para ver primero lo que devuelve nuestra consulta. Para ello, abra Developer Console y seleccione <em>Editor de consultas </em>en la pestaña inferior:</p>
            <pre><code>FIND {Test} IN ALL FIELDS RETURNING Contact(LastName, Phone, Email);</code></pre>
            <p>Esto devuelve una lista de todos los contactos que tienen prueba en su apellido, campo o correo electrónico. Guardemos esto en una lista de sObjects y luego en una variable de tipo matriz de contacto:</p>
            <pre><code>List&lt;List&lt;sObject&gt;&gt; searchList = FIND {Test} IN ALL FIELDS RETURNING Contact(LastName, Phone, Email);

Contact[] con = (Contact[])searchList[0];
</code></pre>
            <p>En la línea 1, hacemos una Lista de objetos para almacenar todos los valores que devuelve la consulta SOSL. El tipo sObject nos permite almacenar prácticamente cualquier objeto estándar en lugar de uno específico.<br>
              In line 2, we convert our <code>searchList</code> into a Contact Object type. The conversion of a value from one data type to another is called <em>Type Casting</em>.</p>
            <hr>
            <h2>Tipo de fundición</h2>
            <p>El proceso de cambiar un valor de un tipo de datos a otro se llama Type casting. Para decirlo simplemente en términos de café, si mueles tus granos de café aproximadamente y quieres que solo pase el polvo de café, pones toda la mezcla a través de un colador y permites que solo el polvo de café entre en el otro recipiente. La sintaxis es:</p>
            <pre><code>dataType variableName = (dataType) valueOrVariableToConvert;
</code></pre>
            <ul>
              <li><code>dataType</code>en ambos casos es el tipo de datos en el que queremos convertir la variable/valor</li>
              <li><code>variableName</code>es el nombre de la variable/valor convertido</li>
              <li><code>valueOrVariableToConvert</code>es la variable o valor que queremos convertir.</li>
            </ul>
            <p>Convirtamos un simple decimal en un entero.</p>
            <pre><code>Decimal value1 = 45.115;
Integer value2 = (Integer) value1;
System.debug('The decimal is: '+ value1 + '. The integer is: ' + value2);
</code></pre>
            <p>The console log would output: <code>The decimal is: 45.115. The integer is: 45</code>. </p>
            <p>La fundición de tipo funciona dentro de la razón y solo puede convertir tipos comparables, por ejemplo, una cadena no se puede convertir en un entero incluso si el valor de String es <code>45</code>.</p>
            <hr>
            <p>Cuando una consulta SOSL devuelve varios objetos, el array se indexa en el mismo orden que el orden de los objetos devueltos en la consulta.</p>
            <pre><code>List&lt;List&lt;sObject&gt;&gt; searchList = [FIND 'test*' IN ALL FIELDS RETURNING Account (Id, Name), Contact, Opportunity];

Account[] accList = (Account[])searchList[0];
Contact[] conList = (Contact[])searchList[1];
Opportunity[] oppList = (Opportunity[])searchList[2];
</code></pre>
            <p>Observe cómo el conteo siempre comienza desde 0 y no 1.</p>
            <h2>SOSL vs SOQL</h2>
            <div class="responsive-table">
              <table>
                <thead>
                  <tr>
                    <th>SOSL</th>
                    <th>SOQL</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>Buscar entre varios objetos</td>
                    <td>Buscar un objeto a la vez</td>
                  </tr>
                  <tr>
                    <td>Devuelve una lista de lista con varios objetos en orden</td>
                    <td>Devuelve una sola lista</td>
                  </tr>
                  <tr>
                    <td>Las consultas se pueden ejecutar en objetos no relacionados</td>
                    <td>Las consultas solo se pueden ejecutar en objetos individuales o relacionados</td>
                  </tr>
                  <tr>
                    <td>Puede recorrer toda la organización si es necesario, el conocimiento de la ubicación exacta de los datos es opcional</td>
                    <td>La ubicación de los datos debe conocerse</td>
                  </tr>
                </tbody>
              </table>
            </div>

            <h1>Resumen</h1>
            <p>De la documentación oficial <a href="https://resources.docs.salesforce.com/sfdc/pdf/salesforce_large_data_volumes_bp.pdf">disponible aquí, página 11</a></p>
            <h3>Use SOQL cuando</h3>
            <ul>
              <li>Usted sabe en qué objetos o campos residen los datos.</li>
              <li>Desea recuperar datos de un solo objeto o de varios objetos que están relacionados entre sí.</li>
              <li>Desea contar el número de registros que cumplen con los criterios especificados.</li>
              <li>Desea ordenar los resultados como parte de la consulta.</li>
              <li>Desea recuperar datos de los campos de número, fecha o casilla de verificación.</li>
            </ul>
            <h3>Use SOSL cuando</h3>
            <ul>
              <li>No sabes en qué objeto o campo residen los datos y quieres encontrarlos de la manera más eficiente posible.</li>
              <li>Desea recuperar múltiples objetos y campos de manera eficiente, y los objetos pueden o no estar relacionados entre sí.</li>
              <li>Desea recuperar datos para una división en particular en una organización utilizando la función Divisiones, y desea encontrarlos de la manera más eficiente posible.</li>
            </ul>
            <h3>Algunas consideraciones adicionales al usar SOQL o SOSL:</h3>
            <ul>
              <li>Tanto las consultas de búsqueda SOSL como los filtros SOQL DONDE pueden especificar el texto a buscar. Cuando una búsqueda dada puede usar cualquiera de los dos idiomas, SOSL es generalmente más rápida que SOQL si la expresión de búsqueda utiliza comodines a la izquierda o un término CONTIENE.</li>
              <li>En algunos casos, cuando se utilizan varios filtros WHERE en SOQL, los índices no se pueden usar aunque los campos de la cláusula WHERE se puedan indexar. En esta situación, descomponga la única consulta en varias consultas cada una con un filtro WHERE y luego combine los resultados.</li>
              <li>Ejecutar una consulta con un null en un filtro WHERE hace imposible usar la indexación. Dichas consultas deben escanear toda la base de datos para encontrar los registros apropiados. Diseñe el modelo de datos para no depender de nulls como valores de campo válidos.</li>
              <li>Si se están utilizando valores dinámicos para el campo WHERE y se pueden pasar valores nulos, no deje que la consulta se ejecute para determinar que no hay registros; en su lugar, compruebe los nulos y evite la consulta si es necesario.</li>
            </ul>

            <a href="11.html" class="global-button">Día 11: Disparadores de ápice y orden de ejecución</a>
          </div>
        </article>

      </main>
      <footer class="footer-section global-footer">
        <div class="footer-copyright">© <a href="http://harshdeephura.com" target="_blank">Harshdeep Singh Hura</a>.<br>Todos los derechos reservados.</div>
      </footer>
    </div>
  </div>




  <script src="../assets/js/global.js"></script>




</body></html>

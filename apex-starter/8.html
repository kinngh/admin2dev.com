<html lang="de-DE"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Apex-Startkurs | Admin2Dev</title>
  <meta name="HandheldFriendly" content="True">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@500&amp;family=Spartan:wght@500;600;700&amp;display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Muli:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="../assets/css/stylesheet.css">

  <link rel="shortcut icon" href="../favicon.ico" type="image/x-icon">

  <meta property="og:site_name" content="Admin2Dev">

  <meta property="og:title" content="sObject, DML and SOQL"> <!-- Content Title-->
  <meta property="og:description" content="Learn basics of using sObjects, Data Manipulation Language and SOQL in Salesforce"> <!-- Content Description -->
  <meta property="og:image" content="https://a2d-cdn.now.sh/web-image.png">
  <meta property="og:url" content="https://admin2dev.com/">


  <meta property="article:author" content="https://twitter.com/kinngh">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="sObject, DML and SOQL"> <!-- Twitter Title -->
  <meta name="twitter:description" content="Learn basics of using sObjects, Data Manipulation Language and SOQL in Salesforce"> <!-- Twitter description -->
  <meta name="twitter:url" content="https://admin2dev.com">
  <meta name="twitter:label1" content="Written by">
  <meta name="twitter:data1" content="Harshdeep Singh Hura">
  <meta name="twitter:label2" content="Filed under">
  <meta name="twitter:data2" content="Apex Tutorials">
  <meta name="twitter:site" content="@kinngh">
  <meta name="twitter:creator" content="@kinngh">
  <meta name="twitter:image" content="https://a2d-cdn.now.sh/web-image.png">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-112097931-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];

  function gtag() {
    dataLayer.push(arguments);
  }
  gtag('js', new Date());

  gtag('config', 'UA-112097931-2');
</script><script async src="https://hm-ackee.herokuapp.com/tracker.js" data-ackee-server="https://hm-ackee.herokuapp.com" data-ackee-domain-id="b76d74a9-da14-46a7-b30a-596c57329e5b"></script>

</head>

<body id="myBody" class="global-hash-post-card-amber global-hash-post-card-apricot global-hash-post-card-aqua global-hash-post-card-coral global-hash-post-card-cream global-hash-post-card-green global-hash-post-card-purple global-hash-post-card-raspberry global-hash-post-card-sky is-loaded">
  <div class="global-wrap">
    <div class="global-content">
      <header class="header-section">
        <div class="header-wrap">
          <div class="header-logo">
            <a href="../index.html" class="is-image">
              <img src="../images/logo.png" alt="Admin2Dev">
            </a>
          </div>
          <div class="header-nav">
            <input id="toggle" class="header-checkbox" type="checkbox">
            <label class="header-toggle" for="toggle">
              <span>
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
              </span>
            </label>
            <nav>
              <ul>
                <li><a href="../index.html">Startseite</a></li>
                <li><a href="../learn/index.html">Lernen</a></li>
<li><a href="../tools/index.html">Werkzeuge</a></li>
                 <li><a href="../sponsor/index.html">Sponsor</a></li>
                <li class="header-nav-dropdown">
                  <svg role="img" viewBox="0 0 20 4" xmlns="http://www.w3.org/2000/svg">
                    <path d="M2 4A2 2 0 102.001.001 2 2 0 002 4zm8 0a2 2 0 10.001-3.999A2 2 0 0010 4zm8 0a2 2 0 10.001-3.999A2 2 0 0018 4z"></path></svg>
                  <ul>
                    <li><a href="../about/index.html">Über</a></li><li><a href="../terms.html">Nutzungsbestimmungen</a></li>
                    <li><a href="../privacy.html">Datenschutzerklärung</a></li>
                  </ul>
                </li>
              </ul>
              <ul>
                <li class="signup global-button"><a href="https://discord.gg/5ndr5F8" target="_blank">Treten Sie der Community bei</a></li>
                <li class="signin"><a onclick="darkMode()" id="darkModeText">Dunkler Modus</a></li>
              </ul>
            </nav>
          </div>
        </div>
      </header>
      <main class="global-main">
        <article class="post-section">
          <div class="post-header item is-hero is-page is-first post no-image page">
            <div class="item-container global-color">
              <div class="item-content">
                <h2 class="item-title">sObject, DML und SOQL</h2>
              </div>
            </div>
          </div>
          <div class="post-content">
            <h2>sObjects</h2>
            <p>Jedes Standard- und benutzerdefinierte Objekt in salesforce kann in Apex als Datentyp deklariert werden. Die Syntax lautet:</p>
            <pre><code>sObject variableName = new sObject();</code></pre>
            <p>Um die Felder eines sObject aufzufüllen, geben wir setup &gt; object manager &gt; fields and relationships <em>ein </em>und <em>verwenden den Feldnamen</em></p>
            <figure class="kg-card kg-image-card kg-card-hascaption"><img src="../images/apex/8/contact-api-name.png" width="100%"></figure>
            <p>Machen wir einen neuen Kontakt.</p>
            <pre><code>Contact con = new Contact();
con.firstName = 'John';
</code></pre>
            <p>Sie werden feststellen, dass wir dies nicht tun lassen. Öffnen wir SF org und machen einen neuen Kontakt, und das liegt daran, dass Nachname ein Pflichtfeld ist. Fügen wir diese im Code hinzu.</p>
            <pre><code>Contact con = new Contact();
con.firstName = 'John';
con.lastName = 'Smith';
</code></pre>
            <p>Wir haben unsere Variablen, aber sie sind noch nicht in die Datenbank übertragen. Dies entspricht dem Erstellen eines Datensatzes, aber dem Drücken von Speichern nicht. Um dies in unserer Datenbank zu speichern, müssen wir DML verwenden.</p>
            <h2>DML</h2>
            <p>DML steht für <em>Data Manipulation Language</em>, eine Programmiersprache, die zum Einfügen, Löschen oder Ändern von Daten in eine Datenbank verwendet wird. Es ist normalerweise ein Teil einer größeren Programmiersprache und DML selbst gilt als Subprogrammiersprache.</p>
            <ul>
              <li><code>Insert</code>, um einen Wert einzufügen.</li>
              <li><code>Update</code>, um einen Wert zu aktualisieren.</li>
              <li><code>Upsert</code>, um einen Wert zu aktualisieren, und wenn er nicht existiert, fügen Sie ihn ein. (UPSERT = UPDATE + INSERT).</li>
              <li><code>Delete</code>, um einen Wert zu löschen.</li>
              <li><code>Undelete</code>, um einen Wert aus dem Papierkorb wiederherzustellen.</li>
            </ul>
            <p>Fügen wir einen Datensatz ein:</p>
            <pre><code>Contact con = new Contact();
con.firstName = 'Ayye';
con.lastName = 'Last Name';

insert con;
</code></pre>
            <p>Going back in our org, we now have a new contact named <code>Ayye Last Name</code>.</p>
            <figure class="kg-card kg-image-card kg-card-hascaption"><img src="../images/apex/8/new-contact.png" width="100%"></figure>
            <p>When using custom objects or fields, a <code>__c</code> needs to be added at the end.</p>
            <pre><code>Invoice__c inv = new Invoice__c();
inv.lastName__c = 'Johnson';
insert inv;</code></pre>
            <p>Um mehrere Einträge hinzuzufügen, initialisieren Sie ein Objekt innerhalb der for-Schleife, aktualisieren Sie seine Werte und fügen Sie ihnen eine externe Liste hinzu.</p>

            <pre><code>List&lt;Contact&gt; finalList = new List&lt;Contact&gt;();

for(Integer i = 0; i &lt; 10; i ++){
    Contact con = new Contact();
    con.lastName = 'Test ' + i;
    finalList.add(con);
}

insert finalList;
</code></pre>
            <p>We initialize the Contact variable inside the for loop because the life of a variable when made inside a for loop starts when the loop starts and ends when the loop ends. So when you make a new <code>Contact con</code> inside the loop,
              it makes a new instance of <code>con</code> everytime the loop is run and destroys it at the end just after it adds to the list. This is similar to making 10 cups of coffee one at a time. You get your ground coffee and water at the
              start and once you mix it the “original” state of ground coffee and water doesn’t exist anymore and then you start over again, running a life cycle of raw ingredients to processed ingredients.</p>


            <h2>Salesforce Object Query Language (SOQL)</h2>
            <p>SOQL oder Salesforce Object Query Language in einfachen Worten ist eine Suchmaschine für Ihre Organisation, die bestimmte oder ähnliche Datensätze aus bestimmten Objekten sammelt. In Bezug auf die Kaffeezubereitung geht es darum, in Ihren Schränken in der Küche nach einem bestimmten Kaffee zu suchen und ihn auf Ihre Theke zu legen. Werfen wir einen Blick auf die Syntax:</p>
            <pre><code>[SELECT field_name, field_name2 FROM object WHERE condition AND/OR condition];</code></pre>

            <ul>

              <li><code>[]</code>Es ist notwendig, eine SOQL-Anweisung in eckige Klammern zu setzen</li>
              <li><code>SELECT</code>Ist das Schlüsselwort, das angibt, was ausgewählt werden soll</li>
              <li><code>field_name</code>Ist der API / Feldname (nicht Label) des Feldes, in dem wir suchen möchten</li>
              <li><code>FROM</code>Ist das Schlüsselwort, das angibt, wo aus dem ausgewählt werden soll</li>
              <li><code>object</code>Ist der Name des Objekts. Object__c, wenn es sich um ein benutzerdefiniertes Objekt handelt.</li>
              <li><code>WHERE</code>Ist das Schlüsselwort, das angibt, nach welchen Bedingungen im Feld gesucht werden soll</li>
              <li><code>condition</code> is what are we looking for in the field(s), separated by <code>,</code> or an <code>AND</code> or <code>OR</code></li>

            </ul>

            <p>Nehmen wir an, Sie möchten etwas Arabica-Kaffee aus Schrank 1 bekommen und der Kaffee sollte in Bohnenform sein und frisch sein.</p>
            <pre><code>[SELECT arabica FROM Cabinet1 WHERE form = 'ground' AND status = 'fresh' ];</code></pre>


            <p>Führen wir eine tatsächliche Suche nach zuvor gemachten Kontakten durch:</p>
            <pre><code>[SELECT ID, lastName from contact WHERE lastName = 'Test 1'];</code></pre>


            <p>Die SOQL-Abfrage gibt eine Liste der Ergebnisse zurück, und der Datentyp ist das Objekt, in dem sie gesucht hat.</p>
            <pre><code>List&lt;Contact&gt; con = [SELECT ID, lastName FROM contact WHERE lastName = 'Test 1'];</code></pre>
            <p>Reale Szenarien sind nicht Test 1, 2 und 3, sondern nehmen tatsächliche Namen an. Um mit einem Vorlagenformular zu suchen, verwenden wir Platzhalter, dies sind Operatoren, die ähnlich funktionieren, um die Lücken auszufüllen. Es gibt zwei Platzhalteroperatoren in SOQL:</p>
            <ul>
              <li><code>_</code>Bedeutet, dass wir speziell nach einem Charakter suchen.</li>
              <li><code>%</code>Bedeutet, dass wir nach mehreren Zeichen suchen.</li>

            </ul>
            <p>To use wildcard operators, replace <code>=</code> with <code>LIKE</code> keyword. In coffee terms</p>
            <ul>
              <li><code>COFF%</code>Würde COFFEE zurückgeben (Mehrzeichensuche)</li>
              <li><code>T_A</code>Würde TEA zurückgeben (Single character serach)</li>
            </ul>

            <p>Suchen wir nach den 10 Testkontakten, die wir zuvor gemacht haben:</p>
            <pre><code>List&lt;Contact&gt; con = [SELECT ID, lastName FROM contact WHERE lastName LIKE 'Test%'];</code></pre>

            <p>This would return all values from <code>Test 0...Test 10</code>. But if we are looking to exclude Test 10 from our query, we would use:</p>
            <pre><code>List&lt;Contact&gt; con = [SELECT ID, lastName FROM contact WHERE lastName LIKE 'Test _'];</code></pre>

            <p>Dies würde zurückkehren<code>Test 0...Test 9</code>
            </p><p>Wir können weitere komplexe Abfragen ausführen, indem wir Vergleichsoperatoren einführen:</p>
            <pre><code>List&lt;Opportunity&gt; oppList = [SELECT ID, value FROM opportunity WHERE (value&lt;=100000 AND value &gt;= 50000)];</code></pre>

            <p>Dies würde alle Chancen mit Werten von 50.000 bis 100.000 zurückgeben. Wir können Objekten in SOQL-Abfragen auch Spitznamen (als Alias bezeichnet) zuweisen:</p>
            <pre><code>[SELECT ID, lastName FROM contact c where c.lastName = 'Test'];</code></pre>

            <p>Dies ist besonders praktisch, wenn es um längere benutzerdefinierte Objektnamen und -felder geht und mit verwandten Objekten und Feldern arbeitet.</p>
            <p>We can further run more template serches by introducing variables in our SOQL queries just by adding a <code>:</code> before the variable name:</p>
            <pre><code>String searchName = 'Young';
List&lt;Contact&gt; con = [SELECT ID, lastName FROM contact WHERE lastName = :searchName];
</code></pre>

            <p>Normalerweise fügen wir nach dem <code>SELECT</code>-Schlüsselwort ID in unsere Abfragen ein, auch wenn wir das Feld nicht verwenden. Das liegt daran, dass unser Betrieb diese Felder erfordert und es automatisch im Hintergrund behandelt wird und ich empfehle, fast immer ID als Feld in Ihre SOQL-Abfragen aufzunehmen, um sie in Zukunft oder während der Arbeit in Teams zu verwenden.</p>
            <p>Wir können die Anzahl der zurückgegebenen Werte auch begrenzen, indem wir das <code>LIMIT</code>-Schlüsselwort gefolgt von einer Ganzzahl verwenden.</p>
            <pre><code>[SELECT ID, LastName FROM Contact WHERE LastName = 'Test' LIMIT 10];</code></pre>
            <p>Dies gibt die ersten 10 gefundenen Werte zurück.</p>
            <h1>Zusammenfassung</h1>
            <ul>
              <li>sObjects können als Datentyp zum Speichern von Werten verwendet werden.</li>
              <li>DML-Anweisungen werden verwendet, um Daten in der Organisationsdatenbank zu bearbeiten.</li>
              <li>SOQL ist eine Sortiersuchmaschine, die nach Werten sucht, die mit Kriterien in bestimmten Objekten übereinstimmen.</li>
            </ul>

            <a href="9.html" class="global-button">Tag 9: Datenbankklassenmethoden</a>
          </div>
        </article>

      </main>
      <footer class="footer-section global-footer">
        <div class="footer-copyright">© <a href="http://harshdeephura.com" target="_blank">Harshdeep Singh Hura</a>.<br>Alle Rechte vorbehalten.</div>
      </footer>
    </div>
  </div>




  <script src="../assets/js/global.js"></script>




</body></html>
